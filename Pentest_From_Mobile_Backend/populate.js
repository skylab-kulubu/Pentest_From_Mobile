require('dotenv').config();

const { connectDb } = require('./db/db');
const { NmapModel } = require('./model/attack_models/nmap_model');

const jsonProducts = require('./nmap_results.json');


const start = async () => {
    try {
        await connectDb('mongodb+srv://mobilepentest:1290347856mobilepentest@cluster0.i1ddxhj.mongodb.net/Mobile-Pentest?retryWrites=true&w=majority');
        await NmapModel.deleteMany();
        await NmapModel.create(jsonProducts);
        console.log('successfull!!!');
        process.exit(1);
    } catch (error) {
        console.log(error);
    }
};

start();